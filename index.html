<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.cdnfonts.com/css/pickle-pushing" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@600&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="styles.css">

    <title>I Want To Be A Hero</title>
    <link rel="icon" type="image/x-icon" href="favicon.png">
</head>

<body>
    <header>
        <!-- FPS setting to be revised -->
        <!-- <select name="updateIntervals" id="updateIntervals" onchange="changeInterval(this.value)">
            <option value="15">15FPS</option>
            <option value="30">30FPS</option>
            <option value="60">60FPS</option>
        </select> -->
        <section>
        <button class="bannerButton" onclick="toggleMusic()">Music</button>
        <input type="range" min="1" max="100" value="20" class="slider" id="volumeSlider" onchange="setVolume(this.value)">
        <button class="bannerButton" onclick="save()">Save Game</button>
        <button class="bannerButton" onclick="load()">Load Game</button>
        <button class="bannerButton" onclick="exportGame()">Export</button>
        <button class="bannerButton" onclick="importGame()">Import</button>
        <button class="bannerButton" style="float:right" onclick="hardReset()">HARD RESET</button>
        </section>

        <audio controls muted id="audioSource" style="display: none;">
            <source src="cyberpunk-street.mp3" type="audio/mp3">
            Your browser does not support the audio element.
        </audio>
        <h1 class="title pickle">
            I WANT TO BE A HERO
        </h1>    
    </header>
    <main>
        <div id="gridMain">
            <div id="grid1">
                <section class="infoBox" id="combatBox">
                    <div class="blockHeader pickle">
                        COMBAT
                    </div>
                    <div class="blockBody dotted">
                        <div id="barWrap">
                            <span class="barText leftAlign pickle" id="playerLevelText">
                                LEVEL
                            </span>
                            <span id="playerExperienceText" class="barText pickle">0</span>
                            <progress id="playerExperienceBar" value="100" max="1000"></progress>
                            <span class="barText leftAlign pickle">
                                HEALTH
                            </span>
                            <span id="playerHealthText" class="barText pickle">0</span>
                            <progress id="playerHealthBar" value="100" max="1000"></progress>
                            <span id="playerInitiativeText" class="barText pickle">0</span>
                            <progress id="playerInitiativeBar" value="100" max="1000"></progress>
                        </div>
                        <div class="statDisplay pickle" id="nextMove">
                            Next move: <span id="playerMoveText">0</span>
                        </div>
                        <div class="pickle" style="font-size: 1.5em;margin: 0.5em;"> Money: <span id="moneyText">0</span></div>
                        <div class="pickle" style="font-size: 1.5em;margin: 0.5em;"> Reputation: <span id="reputationText">0</span></div>
                    </div>
                </section>
                <section class="infoBox" id="statsBox">
                    <div class="blockHeader pickle">
                        STATS
                    </div>
                    <div class="blockBody dotted evenFlex">
                        <div class="statDisplay pickle">
                            Max health: <span id="playerMaxHealthDisplay">0</span>
                        </div>
                        <div id="strengthStatText" class="statDisplay pickle">
                            Strength: <span id="strengthText">0</span>
                        </div>
                        <div id="toughhnessStatText" class="statDisplay pickle">
                            Toughness: <span id="toughnessText">0</span>
                        </div>
                        <div id="mindStatText" class="statDisplay pickle">
                            Mind: <span id="mindText">0</span>
                        </div>
                        <div id="agilityStatText" class="statDisplay pickle">
                            Agility: <span id="agilityText">0</span>
                        </div>
                    </div>
                </section>
                <section class="infoBox" id="trainingBox">
                    <div class="blockHeader pickle">
                        TRAINING
                    </div>
                    <div id="trainingAreaDisplay" class="blockBody dotted">
                        <div id="trainingAreaName" class="statDisplay pickle"></div>
                        <div class="statDisplay pickle"
                            style="text-transform:capitalize ; font-size: 16px; font-weight: normal;">
                            Currently training: <span id="currentTrainingAttribute"></span></div>
                            <div id="trainingButtonWrap">
                                <button class="attributeButton" id="strengthText"
                                onclick="changeTrainingAttribute(attribute.strength)"></button>
                                <button class="attributeButton" id="toughnessText"
                                onclick="changeTrainingAttribute(attribute.toughness)"></button>
                                <button class="attributeButton" id="mindText"
                                    onclick="changeTrainingAttribute(attribute.mind)"></button>
                                    <button class="attributeButton" id="agilityText"
                                    onclick="changeTrainingAttribute(attribute.agility)"></button>
                                </div>
                                <div class="pickle" style="margin:5px;margin-top:1em;margin-bottom:1em">Attributes per session: <span id="trainingReward"></span></div>
                        <div style="width: -webkit-fill-available;height: 40px;margin-left: 10px;margin-right: 10px;">
                            <progress id="trainingProgressBar" style="width:inherit;"value="100" max="1000"></progress>
                        </div>
                        <div class="pickle center biggerText">Attributes per session: <span id="trainingReward"></span></div>
                        <button class="pickle" id="trainingUpgradeButton" onclick="upgradeTrainingArea()" onmouseenter="updateTrainingNextText()" onmouseleave="updateTrainingText()">Upgrade: <span id="trainingUpgradeCost"></span></button>
                    </div>
                </section>
                <section id="helpBox">
                    <div class="blockHeader pickle" style="display: block">
                        HELP</div>
                    <div class="blockBody dotted" id="helpBody">
                        Your hero automatically uses his skills in combat.
                        <br \><span id="strengthText" class="pickle">Strength</span>is the main component of skill damage.
                        <br \><span id="toughnessText" class="pickle">Toughness</span>increases your maximum health points and damage reduction.
                        <br \><span id="mindText" class="pickle">Mind</span>does nothing right now.
                        <br \><span id="agilityText" class="pickle">Agility</span>increases your action speed and is a damage component of punch.
                        <br \>Your only current moves are Move and Punch. Punch's damage ratio is 100% <span
                            id="strengthText" class="pickle">STR</span> 20% <span id="agilityText" class="pickle">AGI</span>, which is to say that,
                        that
                        percentage of the respective attribute value is used in the move's damage formula.
                        <br \>The damage formula is: 
                        <br \><img id="damageFormula" src="./damageFormula.png" />,
                        where the second part is evaluated and then summed from every contributing attribute.
                        <br \>Attributes can be increased by training.
                        <br \>Get passive skills to further boost your attributes.
                    </div>
                </section>
                <section id="areasBox">
                    <div class="blockHeader pickle">
                        AREAS</div>
                    <div class="blockBody dotted" style="box-sizing: border-box; padding: 10px; text-align:justify; display: block;
                font-family: 'Pickle Pushing', sans-serif;
                font-size: 24px;
                font-weight:lighter ;">
                    <select name="selectArea" class="dropdown pickle" id="selectArea" onchange="changeArea(this.value)"></select>
                    </div>
                </section>
                <section id="storyBox">
                    <div class="blockHeader pickle" style="display: block">
                        STORY</div>
                    <div class="blockBody dotted oxanium" style="padding: 10px; text-align: justify; display: block;font-size: 24px;">
                        <div id = "storyText"></div>
                    </div>
                </section>
                <section id="skillsBox">
                    <div class="blockHeader pickle" style="display: block">
                        SKILLS</div>
                    <div class="blockBody dotted pickle" id="skillsWrap">
                    <div>Class: <span id="classText"></span></div>
                    <div>Points available: <span id="passivePointsText"></span></div>
                    <!-- <div class="tooltip"> Tooltip text<span class = "tooltiptext">TEST</span></div> -->
                    <div class="gridSkills" id="passiveTreeGrid"></div>
                    </div>
                </section>
            </div>
        </div>
        <section id="canvasLogWrap">
                <div id="canvasWrap">
                <canvas id="myCanvas"></canvas>
                </div>
                <div id="logBox" class="logBox"></div>
        </section>
    </main>
</body>

</html>
<script src="worker.js"></script>
<script src ="constants.js"></script>
<script src="colors.js"></script>
<script src="playerstats.js"></script>
<script src="enemies.js "></script>
<script src="story.js"></script>
<script src ="class.js"></script>
<script src="training.js"></script>
<script src="main.js"></script>